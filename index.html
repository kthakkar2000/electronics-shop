<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Kalindi тАФ Samsung washing machine 12kg</title>
<style>
:root{
  --bg:#0f1723; --card:#0b1220; --muted:#9aa4b2;
  --accent1:#7c3aed; --accent2:#06b6d4;
  font-family:Inter,system-ui,-apple-system,Roboto,'Segoe UI',Arial;
}
html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#081018);color:#e6eef6}
.container{max-width:460px;margin:18px auto;padding:16px}
header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
.left{display:flex;gap:12px;align-items:center}
.logo-img{width:56px;height:56px;border-radius:10px;overflow:hidden;box-shadow:0 6px 20px rgba(2,6,23,0.6);background:#fff}
.logo-img img{width:100%;height:100%;object-fit:contain}
.title-wrap{line-height:1}
.shop{font-size:15px;font-weight:700}
.sub{font-size:12px;color:var(--muted)}
.lang-switch{display:flex;gap:8px}
.lang-btn{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--muted);font-weight:700;cursor:pointer}
.lang-btn.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;box-shadow:0 8px 22px rgba(124,58,237,0.12)}

.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:18px;padding:12px;box-shadow:0 10px 30px rgba(2,6,23,0.6)}
.gallery{position:relative;overflow:hidden;border-radius:14px}
.slides{display:flex;transition:transform .36s cubic-bezier(.2,.9,.2,1)}
.slides img{width:100%;height:320px;object-fit:cover;flex-shrink:0;background:#071018}
.dots{display:flex;gap:6px;position:absolute;left:12px;bottom:10px}
.dot{width:9px;height:9px;border-radius:6px;background:rgba(255,255,255,0.06)}
.dot.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));box-shadow:0 6px 18px rgba(6,182,212,0.08)}

.product-name{font-weight:800;font-size:18px;margin-top:12px;text-align:center}
.bot{display:flex;gap:12px;align-items:center;margin-top:14px;padding:12px;border-radius:12px;background:linear-gradient(90deg, rgba(124,58,237,0.05), rgba(6,182,212,0.03))}
.mic{width:56px;height:56px;border-radius:12px;background:linear-gradient(180deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:800;color:#fff;font-size:20px;cursor:pointer;flex-shrink:0}
.mic.listening{box-shadow:0 12px 40px rgba(124,58,237,0.18);transform:scale(1.04)}
.bot-info{flex:1}
.bot-title{font-weight:800}
.bot-sub{font-size:13px;color:var(--muted);margin-top:6px}
.transcript{margin-top:8px;font-size:14px;color:var(--muted);min-height:26px}
footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}
@media (max-width:420px){ .slides img{height:260px} }
.img-error{position:absolute;left:12px;top:12px;padding:8px 10px;border-radius:8px;background:rgba(0,0,0,0.48);color:#ffcccc;font-size:13px}
</style>
</head>
<body>
<div class="container">
  <header>
    <div class="left">
      <div class="logo-img"><img id="logoImg" src="assets/ktpl-new-logo.png" alt="Kalindi logo"/></div>
      <div class="title-wrap">
        <div class="shop">Kalindi Tradelinks Pvt Ltd</div>
        <div class="sub">Home Appliances тАв Washing Machine</div>
      </div>
    </div>

    <div class="lang-switch" role="tablist" aria-label="Language">
      <button class="lang-btn active" id="btn-en" aria-selected="true">English</button>
      <button class="lang-btn" id="btn-gu" aria-selected="false">ркЧрлБркЬрк░рк╛ркдрлА</button>
    </div>
  </header>

  <main class="card">
    <div class="gallery" id="gallery">
      <div class="slides" id="slides">
        <img src="assets/wm1.jpg" alt="product image 1" />
        <img src="assets/wm2.jpg" alt="product image 2" />
        <img src="assets/wm3.jpg" alt="product image 3" />
        <img src="assets/wm4.jpg" alt="product image 4" />
        <img src="assets/wm5.jpg" alt="product image 5" />
      </div>
      <div class="dots" id="dots" aria-hidden="true"></div>
      <div class="img-error" id="imgError" style="display:none">Image not found тАФ check assets folder</div>
    </div>

    <div class="product-name">Samsung washing machine 12kg</div>

    <div class="bot" role="region" aria-label="Product voice assistant">
      <div class="mic" id="mic" title="Tap to speak">ЁЯОЩя╕П</div>
      <div class="bot-info">
        <div class="bot-title" id="assistant-title">Product Voice Assistant</div>
        <div class="bot-sub" id="assistant-sub">Select language, tap mic and ask about price, warranty, usage and more.</div>
        <div class="transcript" id="transcript">Assistant ready. Select language and tap mic to ask.</div>
      </div>
    </div>
  </main>

  <footer>┬й Kalindi Tradelinks Pvt Ltd</footer>
</div>

<script>
/* ---- slider ---- */
const slides = document.getElementById('slides'), imgs = slides.querySelectorAll('img'), dots = document.getElementById('dots');
let idx = 0;
function buildDots(){ dots.innerHTML=''; imgs.forEach((_,i)=>{ const d=document.createElement('div'); d.className='dot'+(i===0 ? ' active':''); d.addEventListener('click',()=>{ idx=i; update(); }); dots.appendChild(d); }); }
function update(){ slides.style.transform = `translateX(${-idx*100}%)`; Array.from(dots.children).forEach((d,i)=> d.classList.toggle('active', i===idx)); }
buildDots();
setInterval(()=>{ idx=(idx+1)%imgs.length; update(); },4500);
/* swipe */
let startX=null; const gallery=document.getElementById('gallery');
gallery.addEventListener('touchstart', e=> startX = e.changedTouches[0].clientX);
gallery.addEventListener('touchend', e=>{ if(startX===null) return; const endX = e.changedTouches[0].clientX; const dx = endX - startX; if(Math.abs(dx)>40){ if(dx<0) idx = Math.min(idx+1, imgs.length-1); else idx = Math.max(idx-1,0); update(); } startX=null; });

/* ---- language toggle ---- */
let currentLang='en';
const btnEn=document.getElementById('btn-en'), btnGu=document.getElementById('btn-gu');
function setLang(lang){
  currentLang=lang;
  if(lang==='en'){ btnEn.classList.add('active'); btnEn.setAttribute('aria-selected','true'); btnGu.classList.remove('active'); btnGu.setAttribute('aria-selected','false'); document.getElementById('assistant-sub').textContent='Select language, tap mic and ask about price, warranty, usage and more.'; document.getElementById('assistant-title').textContent='Product Voice Assistant'; if(recognition) recognition.lang='en-IN'; }
  else { btnGu.classList.add('active'); btnGu.setAttribute('aria-selected','true'); btnEn.classList.remove('active'); btnEn.setAttribute('aria-selected','false'); document.getElementById('assistant-sub').textContent='ркнрк╛рк╖рк╛ рккрк╕ркВркж ркХрк░рлЛ, ркорк╛ркИркХ ркжркмрк╛рк╡рлЛ ркЕркирлЗ ркХрк┐ркВркоркд, рк╡рлЛрк░ркВркЯрлА, ркЙрккркпрлЛркЧ рк╡ркЧрлЗрк░рлЗ рк╡рк┐рк╢рлЗ рккрлВркЫрлЛ.'; document.getElementById('assistant-title').textContent='рккрлНрк░рлЛркбркХрлНркЯ рк╡рлЛркЗрк╕ ркЖрк╕рк┐рк╕рлНркЯркирлНркЯ'; if(recognition) recognition.lang='gu-IN'; }
}
btnEn.addEventListener('click', ()=> setLang('en'));
btnGu.addEventListener('click', ()=> setLang('gu'));

/* ---- canned replies ---- */
const cannedEn = [
  { q:/price|cost|тВ╣|rupee/i, a:'The price of this model is тВ╣65,000.' },
  { q:/stock|available/i, a:'This model has 4 pieces left in stock. EMI and exchange available in-store.' },
  { q:/warrant(?:y|ies)|guarantee/i, a:'This product comes with a 2 year manufacturer warranty covering defects and parts.' },
  { q:/usage|how to use|use of|how do i use|what is the use/i, a:'Use the front-load washing machine with recommended detergent, choose appropriate program and avoid overloading.' },
  { q:/water|litre|liters|litra|consumption/i, a:'This model uses approximately 60 liters of water per full wash cycle.' },
  { q:/colour|color|available color|available colours|which color/i, a:'Available colours: Pearl White and Graphite Silver (subject to stock). Please check in-store.' },
  { q:/dimension|size|height|width|depth|dimension(s)?/i, a:'Approximate dimensions: Height 85 cm, Width 60 cm, Depth 55 cm.' },
  { q:/electric|power|watt|unit|energy usage|consumption/i, a:'Power draw depends on mode; average electricity usage is around 1.2 - 1.5 kWh per full wash.' },
  { q:/delivery|install|setup/i, a:'Free delivery and installation are provided within city limits.' },
  { q:/service|repair|support/i, a:'We provide doorstep service and free checkups during warranty period.' },
  { q:/exchange|old machine|trade/i, a:'You can exchange your old appliance and get up to тВ╣5,000 off.' },
  { q:/.*/, a:'Sorry, I do not have that exact information. Try asking about price, usage, water consumption or warranty.' }
];
const cannedGu = [
  { q:/ркХрк┐ркВркоркд|ркжрк╛рко|рк░рлВ|тВ╣/i, a:'ркЖ ркорлЛркбрлЗрк▓ркирлА ркХрк┐ркВркоркд рк░рлВ. 65,000 ркЫрлЗ.' },
  { q:/рк╕рлНркЯрлЛркХ|ркЙрккрк▓ркмрлНркз|ркорлЛркЬрлБ╨┤╨░╨║/i, a:'рк╕рлНркЯрлЛрк░ркорк╛ркВ рклркХрлНркд 4 рккрлАрк╕ ркмрк╛ркХрлА ркЫрлЗ. EMI ркЕркирлЗ ркПркХрлНрк╕ркЪрлЗркирлНркЬ ркЙрккрк▓ркмрлНркз ркЫрлЗ.' },
  { q:/рк╡рлЛрк░ркВркЯрлА|ркЧрлЗрк░ркирлНркЯрлА/i, a:'ркЖ ркЙркдрлНрккрк╛ркжрки рк╕рк╛ркерлЗ 2 рк╡рк░рлНрк╖ркирлА ркЙркдрлНрккрк╛ркжркХ рк╡рлЛрк░ркВркЯрлА ркорк│рлЗ ркЫрлЗ.' },
  { q:/ркЙрккркпрлЛркЧ|ркХрлЗрк╡рлА рк░рлАркдрлЗ рк╡рк╛рккрк░рк╡рлБркВ|ркХркИ рк░рлАркдрлЗ ркЙрккркпрлЛркЧ|ркЙрккркпрлЛркЧ ркорк╛ркЯрлЗ/i, a:'рклрлНрк░ркирлНркЯ-рк▓рлЛркб ркорк╢рлАркиркорк╛ркВ рк╕рлВркЪрк┐ркд ркбрк┐ркЯрк░рлНркЬркирлНркЯ рк╡рк╛рккрк░рлЛ, ркпрлЛркЧрлНркп рккрлНрк░рлЛркЧрлНрк░рк╛рко рккрк╕ркВркж ркХрк░рлЛ ркЕркирлЗ ркУрк╡рк░рк▓рлЛркб рки ркХрк░рлЛ.' },
  { q:/рккрк╛ркгрлА|рк▓рк┐ркЯрк░|рккрк╛ркгрлАркирлЛ ркЙрккркпрлЛркЧ|consumption/i, a:'ркжрк░рлЗркХ рккрлВрк░рлНркг рк╡рлЛрк╢ рк╕рк╛ркпркХрк▓ ркорк╛ркЯрлЗ ркЖрк╢рк░рлЗ 60 рк▓рк┐ркЯрк░ рккрк╛ркгрлА рк╡рккрк░рк╛ркп ркЫрлЗ.' },
  { q:/рк░ркВркЧ|ркХрк▓рк░|рккрлНрк░рк╛рккрлНркп рк░ркВркЧ|available color/i, a:'рккрлНрк░рк╛рккрлНркп рк░ркВркЧрлЛ: рккрк░рлНрк▓ рк╡рлНрк╣рк╛ркЗркЯ ркЕркирлЗ ркЧрлНрк░рк╛рклрк╛ркЗркЯ рк╕рк┐рк▓рлНрк╡рк░ (рк╕рлНркЯрлЛркХ рккрк░ ркЖркзрк╛рк░рк┐ркд).' },
  { q:/ркорк╛ркк|ркбрк╛ркпркорлЗркирлНрк╢рки|ркКркВркЪрк╛ркИ|рккрк╣рлЛрк│рк╛ркИ|ркКркВркбрк╛ркИ/i, a:'ркЕркВркжрк╛ркЬрлЗ ркорк╛ркк: ркКркВркЪрк╛ркИ 85 рк╕рлЗ.ркорлА., рккрк╣рлЛрк│рк╛ркИ 60 рк╕рлЗ.ркорлА., ркКркВркбрк╛ркИ 55 рк╕рлЗ.ркорлА.' },
  { q:/ркмрк┐ркЬрк│рлА|рккрк╛рк╡рк░|рк╡рлЛркЯ|ркЙрк░рлНркЬрк╛|рк╡рк┐ркжрлНркпрлБркд/i, a:'рк╡рк┐рк╢рк┐рк╖рлНркЯ ркорлЛркб рккрк░ ркЖркзрк╛рк░ рк░рк╛ркЦрлЗ ркЫрлЗ; ркХрлБрк▓ рк╡рккрк░рк╛рк╢ ркЖрк╢рк░рлЗ 1.2 - 1.5 kWh ркЫрлЗ.' },
  { q:/ркбрк┐рк▓рк┐рк╡рк░рлА|ркЗркирлНрк╕рлНркЯрлЛрк▓|рк╕рлЗркЯ ркЕркк/i, a:'рк╢рк╣рлЗрк░ркирлА ркЕркВркжрк░ ркорклркд ркбрк┐рк▓рк┐рк╡рк░рлА ркЕркирлЗ ркЗркирлНрк╕рлНркЯрлЛрк▓рлЗрк╢рки ркЖрккрк╡рк╛ркорк╛ркВ ркЖрк╡рлЗ ркЫрлЗ.' },
  { q:/рк╕рк░рлНрк╡рк┐рк╕|ркорк░рк╛ркоркд|рк╕рккрлЛрк░рлНркЯ/i, a:'рк╡рлЛрк░ркВркЯрлА ркжрк░ркорк┐ркпрк╛рки ркбрлЛрк░рк╕рлНркЯрлЗркк рк╕рк░рлНрк╡рк┐рк╕ ркЕркирлЗ ркорклркд ркЪрлЗркХркЕркк ркЙрккрк▓ркмрлНркз ркЫрлЗ.' },
  { q:/ркПркХрлНрк╕ркЪрлЗркирлНркЬ|ркЬрлВркирлБ|ркПркХрлНрк╕ркЪрлЗркирлНркЬ/i, a:'ркЬрлВркирлБ ркЙрккркХрк░ркг ркПркХрлНрк╕ркЪрлЗркирлНркЬ ркХрк░рлА тВ╣5,000 рк╕рлБркзрлАркирлЛ ркбрк┐рк╕рлНркХрк╛ркЙркирлНркЯ ркорлЗрк│рк╡рлЛ.' },
  { q:/.*/, a:'ркорк╛ркл ркХрк░рк╢рлЛ, ркоркирлЗ ркдрлЗ ркЪрлЛркХрлНркХрк╕ ркорк╛рк╣рк┐ркдрлА ркЙрккрк▓ркмрлНркз ркиркерлА. ркХрлГрккрк╛ ркХрк░рлАркирлЗ ркХрк┐ркВркоркд, ркЙрккркпрлЛркЧ, рккрк╛ркгрлА ркЙрккркпрлЛркЧ ркЕркерк╡рк╛ рк╡рлЛрк░ркВркЯрлА рк╡рк┐рк╢рлЗ рккрлВркЫрлЛ.' }
];

/* ---- speech synth + WebAudio tap ---- */
function speak(text, lang='en-IN'){
  if(!('speechSynthesis' in window)){ document.getElementById('transcript').textContent = text; return; }
  const u = new SpeechSynthesisUtterance(text);
  u.lang = lang; u.rate = 1;
  window.speechSynthesis.cancel(); window.speechSynthesis.speak(u);
}
let audioCtx=null;
function playTap(){
  try{
    if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const now = audioCtx.currentTime;
    const o = audioCtx.createOscillator();
    const g = audioCtx.createGain();
    o.type='sine';
    o.frequency.setValueAtTime(1000, now);
    g.gain.setValueAtTime(0, now);
    g.gain.linearRampToValueAtTime(0.12, now + 0.001);
    g.gain.exponentialRampToValueAtTime(0.001, now + 0.12);
    o.connect(g); g.connect(audioCtx.destination);
    o.start(now); o.stop(now + 0.14);
  }catch(e){ console.warn('tap sound blocked', e && e.message); }
}

/* ---- recognition ---- */
let recognition=null;
if(window.SpeechRecognition || window.webkitSpeechRecognition){
  const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
  recognition = new SR();
  recognition.lang = 'en-IN';
  recognition.interimResults = false;
  recognition.maxAlternatives = 1;
  recognition.onresult = (e) => {
    const t = e.results[0][0].transcript;
    document.getElementById('transcript').textContent = (currentLang==='en' ? 'You: ' : 'ркдркорлЗ: ') + t;
    handleQuery(t);
  };
  recognition.onend = () => document.getElementById('mic').classList.remove('listening');
  recognition.onerror = (ev) => { document.getElementById('transcript').textContent = 'Error: ' + ev.error; document.getElementById('mic').classList.remove('listening'); };
}

/* ---- query handling ---- */
function handleQuery(text){
  const q = text.toLowerCase();
  if(currentLang === 'en'){
    const f = cannedEn.find(c => c.q.test(q)) || cannedEn[cannedEn.length-1];
    const ans = f.a;
    document.getElementById('transcript').textContent = 'Assistant: ' + ans;
    speak(ans, 'en-IN');
  } else {
    const f = cannedGu.find(c => c.q.test(q)) || cannedGu[cannedGu.length-1];
    const ans = f.a;
    document.getElementById('transcript').textContent = 'рк╕рк╣рк╛ркпркХ: ' + ans;
    speak(ans, 'gu-IN');
  }
}

/* ---- mic click ---- */
const mic = document.getElementById('mic');
mic.addEventListener('click', ()=>{
  playTap();
  if(!recognition){
    const q = prompt(currentLang==='en' ? 'Type your question:' : 'ркдркорк╛рк░рлЛ рккрлНрк░рк╢рлНрки ркЕрк╣рлАркВ ркЯрк╛ркИркк ркХрк░рлЛ:');
    if(q) handleQuery(q); return;
  }
  recognition.lang = (currentLang==='en' ? 'en-IN' : 'gu-IN');
  try{
    mic.classList.add('listening');
    document.getElementById('transcript').textContent = currentLang==='en' ? 'Listening...' : 'рк╢рлБркгрк╡рк╛ркорк╛ркВ ркЖрк╡рлА рк░рк╣рлНркпрлБркВ ркЫрлЗ...';
    recognition.start();
  }catch(e){ mic.classList.remove('listening'); console.warn(e && e.message); }
});
mic.tabIndex = 0; mic.addEventListener('keydown', e=> { if(e.key==='Enter' || e.key===' ') e.target.click(); });

/* ---- initial state ---- */
setLang('en'); // defined earlier when building btn handlers

</script>
</body>
</html>
