<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Kalindi ‚Äî Samsung washing machine 12kg</title>
<style>
:root{
  --bg:#0f1723; --card:#0b1220; --muted:#9aa4b2;
  --accent1:#7c3aed; --accent2:#06b6d4;
  font-family:Inter,system-ui,-apple-system,Roboto,'Segoe UI',Arial;
}
html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#081018);color:#e6eef6}
.container{max-width:460px;margin:18px auto;padding:16px}
header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
.left{display:flex;gap:12px;align-items:center}
.logo-img{width:72px;height:72px;border-radius:12px;overflow:hidden;box-shadow:0 8px 26px rgba(2,6,23,0.6);background:#fff;flex-shrink:0}
.logo-img img{width:100%;height:100%;object-fit:contain}
.title-wrap{line-height:1}
.shop{font-size:16px;font-weight:800}
.sub{font-size:12px;color:var(--muted)}
.lang-switch{display:flex;gap:8px}
.lang-btn{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--muted);font-weight:700;cursor:pointer}
.lang-btn.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white;box-shadow:0 8px 22px rgba(124,58,237,0.12)}

.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:18px;padding:12px;box-shadow:0 10px 30px rgba(2,6,23,0.6)}
.gallery{position:relative;overflow:hidden;border-radius:14px}
.slides{display:flex;transition:transform .36s cubic-bezier(.2,.9,.2,1)}
.slides img{width:100%;height:320px;object-fit:cover;flex-shrink:0;background:#071018}
.dots{display:flex;gap:6px;position:absolute;left:12px;bottom:10px}
.dot{width:9px;height:9px;border-radius:6px;background:rgba(255,255,255,0.06)}
.dot.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));box-shadow:0 6px 18px rgba(6,182,212,0.08)}

.product-name{font-weight:900;font-size:18px;margin-top:12px;text-align:center}
.bot{display:flex;gap:12px;align-items:center;margin-top:14px;padding:12px;border-radius:12px;background:linear-gradient(90deg, rgba(124,58,237,0.05), rgba(6,182,212,0.03))}
.mic{width:56px;height:56px;border-radius:12px;background:linear-gradient(180deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:800;color:#fff;font-size:20px;cursor:pointer;flex-shrink:0}
.mic.listening{box-shadow:0 12px 40px rgba(124,58,237,0.18);transform:scale(1.04)}
.bot-info{flex:1}
.bot-title{font-weight:800}
.bot-sub{font-size:13px;color:var(--muted);margin-top:6px}
.transcript{margin-top:8px;font-size:14px;color:var(--muted);min-height:46px}
footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}
@media (max-width:420px){ .slides img{height:260px} }
.img-error{position:absolute;left:12px;top:12px;padding:8px 10px;border-radius:8px;background:rgba(0,0,0,0.48);color:#ffcccc;font-size:13px}
.small-muted{color:var(--muted);font-size:13px;margin-top:6px}
</style>
</head>
<body>
<div class="container">
  <header>
    <div class="left">
      <div class="logo-img"><img id="logoImg" src="assets/ktpl-new-logo.png" alt="Kalindi logo"/></div>
      <div class="title-wrap">
        <div class="shop">Kalindi Tradelinks Pvt Ltd</div>
        <div class="sub">Home Appliances ‚Ä¢ Washing Machine</div>
      </div>
    </div>

    <div class="lang-switch" role="tablist" aria-label="Language">
      <button class="lang-btn active" id="btn-en" aria-selected="true">English</button>
      <button class="lang-btn" id="btn-gu" aria-selected="false">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</button>
    </div>
  </header>

  <main class="card">
    <div class="gallery" id="gallery">
      <div class="slides" id="slides">
        <img src="assets/wm1.jpg" alt="product image 1" />
        <img src="assets/wm2.jpg" alt="product image 2" />
        <img src="assets/wm3.jpg" alt="product image 3" />
        <img src="assets/wm4.jpg" alt="product image 4" />
        <img src="assets/wm5.jpg" alt="product image 5" />
      </div>
      <div class="dots" id="dots" aria-hidden="true"></div>
      <div class="img-error" id="imgError" style="display:none">Image not found ‚Äî check assets folder</div>
    </div>

    <div class="product-name">Samsung washing machine 12kg</div>
    <div class="small-muted" style="text-align:center">Tap the mic and ask. Responses available in English and Gujarati.</div>

    <div class="bot" role="region" aria-label="Product voice assistant">
      <div class="mic" id="mic" title="Tap to speak">üéôÔ∏è</div>
      <div class="bot-info">
        <div class="bot-title" id="assistant-title">Product Voice Assistant</div>
        <div class="bot-sub" id="assistant-sub">Select language, tap mic and ask about price, warranty, usage and more.</div>
        <div class="transcript" id="transcript">Assistant ready. Select language and tap mic to ask.</div>
      </div>
    </div>
  </main>

  <footer>¬© Kalindi Tradelinks Pvt Ltd</footer>
</div>

<script>
/* ===== slider ===== */
const slides = document.getElementById('slides'), imgs = slides.querySelectorAll('img'), dots = document.getElementById('dots');
let idx = 0;
function buildDots(){ dots.innerHTML=''; imgs.forEach((_,i)=>{ const d=document.createElement('div'); d.className='dot'+(i===0 ? ' active':''); d.addEventListener('click',()=>{ idx=i; update(); }); dots.appendChild(d); }); }
function update(){ slides.style.transform = `translateX(${-idx*100}%)`; Array.from(dots.children).forEach((d,i)=> d.classList.toggle('active', i===idx)); }
buildDots(); setInterval(()=>{ idx=(idx+1)%imgs.length; update(); },4500);

/* swipe */
let startX=null; const gallery=document.getElementById('gallery');
gallery.addEventListener('touchstart', e=> startX = e.changedTouches[0].clientX);
gallery.addEventListener('touchend', e=>{ if(startX===null) return; const endX = e.changedTouches[0].clientX; const dx = endX - startX; if(Math.abs(dx)>40){ if(dx<0) idx = Math.min(idx+1, imgs.length-1); else idx = Math.max(idx-1,0); update(); } startX=null; });

/* ===== language toggle ===== */
let currentLang = 'en';
const btnEn = document.getElementById('btn-en'), btnGu = document.getElementById('btn-gu');
function setLang(lang){
  currentLang = lang;
  if(lang==='en'){
    btnEn.classList.add('active'); btnEn.setAttribute('aria-selected','true'); btnGu.classList.remove('active'); btnGu.setAttribute('aria-selected','false');
    document.getElementById('assistant-sub').textContent = 'Select language, tap mic and ask about price, warranty, usage and more.';
    document.getElementById('assistant-title').textContent = 'Product Voice Assistant';
    if(recognition) recognition.lang = 'en-IN';
  } else {
    btnGu.classList.add('active'); btnGu.setAttribute('aria-selected','true'); btnEn.classList.remove('active'); btnEn.setAttribute('aria-selected','false');
    document.getElementById('assistant-sub').textContent = '‡™≠‡™æ‡™∑‡™æ ‡™™‡™∏‡™Ç‡™¶ ‡™ï‡™∞‡´ã, ‡™Æ‡™æ‡™à‡™ï ‡™¶‡™¨‡™æ‡™µ‡´ã ‡™Ö‡™®‡´á ‡™ï‡™ø‡™Ç‡™Æ‡™§, ‡™µ‡´ã‡™∞‡™Ç‡™ü‡´Ä, ‡™â‡™™‡™Ø‡´ã‡™ó ‡™µ‡™ó‡´á‡™∞‡´á ‡™µ‡™ø‡™∂‡´á ‡™™‡´Ç‡™õ‡´ã.';
    document.getElementById('assistant-title').textContent = '‡™™‡´ç‡™∞‡´ã‡™°‡™ï‡´ç‡™ü ‡™µ‡´ã‡™á‡™∏ ‡™Ü‡™∏‡™ø‡™∏‡´ç‡™ü‡™®‡´ç‡™ü';
    if(recognition) recognition.lang = 'gu-IN';
  }
}
btnEn.addEventListener('click', ()=> setLang('en'));
btnGu.addEventListener('click', ()=> setLang('gu'));

/* ===== canned replies (informed by Samsung product pages & retailers) =====
   ‚Äî these answers are written to be concise for voice replies.
   ‚Äî full detailed description is returned only when user asks "describe" or "model description"
*/
const cannedEn = [
  { q:/price|cost|‚Çπ|rupee/i, a:'Typical retail price for recent Samsung 12 kg front load models starts around ‚Çπ63,000‚Äì‚Çπ70,000 depending on model and offers.' },
  { q:/stock|available/i, a:'Stock varies by store. Please check in-store or call us ‚Äî currently a few pieces may be available.' },
  { q:/describe|description|details|all description|model description/i, a:
    `Samsung 12 kg front-load washers combine AI-powered wash optimisation (AI Wash / Bespoke AI or EcoBubble depending on model), large 12 kg capacity, digital inverter motor for durability and efficiency, quick/eco wash programmes, steam/hygiene cycles, and Wi-Fi / SmartThings app support on some models. Many models support higher spin speeds and energy-saving features.` },
  { q:/usage|how to use|how do i use|use of/i, a:'Load items evenly, use recommended detergent, select the program suitable for the load (cotton, synthetics, heavy, quick), and avoid overloading to get best results.' },
  { q:/water|litre|consumption/i, a:'Typical water usage is around 50‚Äì70 litres per full wash depending on program ‚Äî eco programs use less.' },
  { q:/colour|color|available color|which color/i, a:'Common colours offered include Pearl White, Graphite/Black and Silver ‚Äî availability depends on the model and stock.' },
  { q:/dimension|size|height|width|depth/i, a:'Typical dimensions are roughly H 85 cm √ó W 60 cm √ó D 55‚Äì70 cm depending on the exact model (check label for precise numbers).' },
  { q:/electric|power|watt|energy|consumption/i, a:'Power depends on mode; average electricity per full wash is roughly 1.2‚Äì1.5 kWh on regular cycles. Eco/AI modes reduce energy use.' },
  { q:/dryer|dryer function|dry function/i, a:'Some Samsung models are washer-dryers (combined) ‚Äî many 12kg front-load washers do not include a dryer; check model spec for dryer capability.' },
  { q:/inverter|inverter motor|digital inverter/i, a:'Most modern Samsung front-load machines use a Digital Inverter Motor for lower vibration, improved efficiency and longer life.' },
  { q:/family|how many family|suitable for/i, a:'12 kg capacity is suitable for medium to large families (4+ members) and handles bedding, blankets and larger loads comfortably.' },
  { q:/display|digital|wifi|smart/i, a:'Many recent Samsung 12kg models include a digital display and some include Wi-Fi/SmartThings for remote control; features vary by exact model.' },
  { q:/advantages|why should i buy|benefit/i, a:
    `Advantages: large 12kg capacity for bigger loads, efficient Digital Inverter motor, advanced wash technologies (AI or EcoBubble), energy-efficient cycles, special programs (quick/eco/steam), and smart features on selected models.` },
  { q:/smaller|instead of a smaller capacity|why not smaller/i, a:
    `A 12kg handles large or bulky items (blankets, curtains) in fewer cycles‚Äîsaving time and energy compared to doing several smaller loads on a lower capacity machine.` },
  { q:/better than other brands|how is it better than other brands/i, a:
    `Samsung differentiates with features like EcoBubble / AI Wash, strong service network, and SmartThings integration on select models; exact comparisons depend on models compared.` },
  { q:/programs|quick wash|eco wash|special wash/i, a:'Yes ‚Äî many models include Quick Wash, Eco/Energy modes, Hygiene/Steam cycles and program presets for delicates, bedding and more.' },
  { q:/heavy loads|blankets|curtains/i, a:'Yes ‚Äî 12 kg capacity is designed to handle heavy/bulky loads like blankets and curtains more easily than smaller machines.' },
  { q:/feedback|reviews|customer review|customer feedback/i,
    a:`Customer feedback (sample):
      1) \"Great cleaning, gentle on clothes.\" 
      2) \"Large drum ‚Äî perfect for blankets.\" 
      3) \"Smart features helpful, but Wi-Fi setup took time.\" 
      4) \"Low vibration and quiet operation.\"` },
  { q:/.*/, a:'Sorry, I do not have that exact information. Ask about price, usage, water consumption, warranty or features.' }
];

const cannedGu = [
  { q:/‡™ï‡™ø‡™Ç‡™Æ‡™§|‡™¶‡™æ‡™Æ|‡™∞‡´Ç|‚Çπ/i, a:'‡™§‡™æ‡™ú‡´á‡™§‡™∞‡™®‡™æ Samsung 12 kg ‡™Æ‡´ã‡™°‡´á‡™≤‡´ã‡™®‡´ã ‡™≠‡™æ‡™µ ‡™≤‡™ó‡™≠‡™ó ‚Çπ63,000‚Äì‚Çπ70,000 ‡™∏‡´Å‡™ß‡´Ä ‡™∂‡™∞‡´Ç ‡™•‡™æ‡™Ø ‡™õ‡´á, ‡™ì‡™´‡™∞‡´ç‡™∏ ‡™Ö‡™®‡´á ‡™Æ‡´ã‡™°‡´á‡™≤ ‡™™‡´ç‡™∞‡™Æ‡™æ‡™£‡´á ‡™¨‡™¶‡™≤‡™æ‡™Ø ‡™õ‡´á.' },
  { q:/‡™∏‡´ç‡™ü‡´ã‡™ï|‡™â‡™™‡™≤‡™¨‡´ç‡™ß/i, a:'‡™∏‡´ç‡™ü‡´ã‡™ï ‡™∏‡´ç‡™ü‡´ã‡™∞ ‡™¶‡´ç‡™µ‡™æ‡™∞‡™æ ‡™¨‡™¶‡™≤‡™æ‡™Ø ‡™õ‡´á. ‡™ï‡´É‡™™‡™æ ‡™ï‡™∞‡´ã‡™®‡´á ‡™∏‡´ç‡™ü‡´ã‡™∞ ‡™™‡™∞ ‡™§‡™™‡™æ‡™∏‡´ã ‡™Ö‡™•‡™µ‡™æ ‡™Ö‡™Æ‡™®‡´á ‡™ï‡´â‡™≤ ‡™ï‡™∞‡´ã ‚Äî ‡™π‡™æ‡™≤‡™Æ‡™æ‡™Ç ‡™•‡´ã‡™°‡™æ ‡™™‡´Ä‡™∏ ‡™â‡™™‡™≤‡™¨‡´ç‡™ß ‡™π‡´ã‡™à ‡™∂‡™ï‡´á ‡™õ‡´á.' },
  { q:/‡™µ‡™∞‡´ç‡™£‡™®|‡™°‡™ø‡™∏‡´ç‡™ï‡´ç‡™∞‡™ø‡™™‡´ç‡™∂‡™®|‡™Æ‡´ã‡™°‡´á‡™≤ ‡™µ‡™∞‡´ç‡™£‡™®|‡™µ‡™ø‡™ï‡™≤‡´ç‡™™/i, a:
    `Samsung 12 kg ‡™´‡´ç‡™∞‡™®‡´ç‡™ü-‡™≤‡´ã‡™° ‡™µ‡´ã‡™∂‡™∞‡´ç‡™∏‡™Æ‡™æ‡™Ç ‡™∏‡™æ‡™Æ‡™æ‡™®‡´ç‡™Ø ‡™∞‡´Ä‡™§‡´á AI-‡™Ü‡™ß‡™æ‡™∞‡™ø‡™§ ‡™µ‡´ã‡™∂, ‡™Æ‡´ã‡™ü‡´Ä ‡™ï‡´ç‡™∑‡™Æ‡™§‡™æ, ‡™°‡™ø‡™ú‡™ø‡™ü‡™≤ ‡™á‡™®‡™µ‡™∞‡´ç‡™ü‡™∞ ‡™Æ‡´ã‡™ü‡¶∞, ‡™ï‡´ç‡™µ‡™ø‡™ï/‡™è‡™ï‡´ã ‡™™‡´ç‡™∞‡´ã‡™ó‡´ç‡™∞‡™æ‡™Æ‡´ã, ‡™∏‡´ç‡™ü‡´Ä‡™Æ/‡™π‡™æ‡™á‡™ú‡´Ä‡™® ‡™∏‡™æ‡™Ø‡™ï‡™≤ ‡™Ö‡™®‡´á ‡™ï‡´á‡™ü‡™≤‡™æ‡™ï ‡™Æ‡´ã‡™°‡´á‡™≤‡™Æ‡™æ‡™Ç Wi-Fi/SmartThings ‡™µ‡™ø‡™ß‡´á‡™Ø ‡™Æ‡™≥‡´á ‡™õ‡´á. ‡™ö‡´ã‡™ï‡´ç‡™ï‡™∏ ‡™∏‡´Å‡™µ‡™ø‡™ß‡™æ‡™ì ‡™Æ‡´ã‡™°‡´á‡™≤ ‡™™‡™∞ ‡™Ü‡™ß‡™æ‡™∞‡™ø‡™§ ‡™õ‡´á.` },
  { q:/‡™â‡™™‡™Ø‡´ã‡™ó|‡™ï‡´á‡™µ‡´Ä ‡™∞‡´Ä‡™§‡´á ‡™µ‡™æ‡™™‡™∞‡™µ‡´Å‡™Ç/i, a:'‡™∏‡™æ‡™Æ‡™æ‡™® ‡™∏‡™Æ‡™æ‡™® ‡™∞‡´Ä‡™§‡´á ‡™≤‡´ã‡´á‡™° ‡™ï‡™∞‡´ã, ‡™∏‡´Ç‡™ö‡™ø‡™§ ‡™°‡™ø‡™ü‡™∞‡´ç‡™ú‡™®‡´ç‡™ü ‡™µ‡™æ‡™™‡™∞‡´ã, ‡™Ø‡´ã‡™ó‡´ç‡™Ø ‡™™‡´ç‡™∞‡´ã‡™ó‡´ç‡™∞‡™æ‡™Æ ‡™™‡™∏‡™Ç‡™¶ ‡™ï‡™∞‡´ã ‡™Ö‡™®‡´á ‡™ì‡™µ‡™∞‡™≤‡´ã‡™° ‡™∞‡´Ç‡™™‡´Ä ‡™ü‡™æ‡™≥‡´ã.' },
  { q:/‡™™‡™æ‡™£‡´Ä|‡™≤‡™ø‡™ü‡™∞|‡™â‡™™‡™Ø‡´ã‡™ó/i, a:'‡™∏‡™æ‡™Æ‡™æ‡™®‡´ç‡™Ø ‡™∞‡´Ä‡™§‡´á ‡™™‡´Ç‡™∞‡™æ ‡™µ‡´ã‡™∂ ‡™Æ‡™æ‡™ü‡´á 50‚Äì70 ‡™≤‡™ø‡™ü‡™∞ ‡™∏‡´Å‡™ß‡´Ä ‡™™‡™æ‡™£‡´Ä ‡™µ‡™™‡™∞‡™æ‡™Ø ‡™õ‡´á; ‡™è‡™ï‡´ã ‡™ï‡™æ‡™∞‡´ç‡™Ø‡™ï‡´ç‡™∞‡™Æ ‡™ì‡™õ‡´Å‡™Ç ‡™™‡™æ‡™£‡´Ä ‡™µ‡™æ‡™™‡™∞‡´á ‡™õ‡´á.' },
  { q:/‡™∞‡™Ç‡™ó|‡™â‡™™‡™≤‡™¨‡´ç‡™ß ‡™∞‡™Ç‡™ó/i, a:'‡™∏‡™æ‡™Æ‡™æ‡™®‡´ç‡™Ø ‡™∞‡™Ç‡™ó‡´ã: ‡™™‡™∞‡´ç‡™≤ ‡™µ‡´ç‡™π‡™æ‡™á‡™ü, ‡™ó‡´ç‡™∞‡™æ‡™´‡™æ‡™á‡™ü/‡™¨‡´ç‡™≤‡´á‡™ï ‡™Ö‡™®‡´á ‡™∏‡™ø‡™≤‡´ç‡™µ‡™∞ ‚Äî ‡™∏‡´ç‡™ü‡´ã‡™ï ‡™Ö‡™®‡´Å‡™∏‡™æ‡™∞ ‡™¨‡™¶‡™≤‡™æ‡™Ø ‡™õ‡´á.' },
  { q:/‡™Æ‡™æ‡™™|‡™°‡™æ‡™Ø‡™Æ‡´á‡™®‡´ç‡™∂‡™®|‡™∏‡™æ‡™•‡´á ‡™Æ‡™æ‡™™/i, a:'‡™∏‡™æ‡™Æ‡™æ‡™®‡´ç‡™Ø ‡™Æ‡™æ‡™™ ‡™Ö‡™Ç‡™¶‡™æ‡™ú‡´á H 85 cm √ó W 60 cm √ó D 55‚Äì70 cm ‡™π‡´ã‡™Ø ‡™õ‡´á; ‡™ö‡´ã‡™ï‡´ç‡™ï‡™∏ ‡™Æ‡´ã‡™°‡´á‡™≤ ‡™Æ‡™æ‡™ü‡´á ‡™≤‡´á‡™¨‡™≤ ‡™§‡™™‡™æ‡™∏‡´ã.' },
  { q:/‡™µ‡™ø‡™¶‡´ç‡™Ø‡´Å‡™§|‡™™‡™æ‡™µ‡™∞|‡™∏‡™µ‡™æ‡™¶‡™®/i, a:'‡™µ‡™ø‡™Ö‡™∞, ‡™Æ‡´ã‡™° ‡™™‡™∞ ‡™Ü‡™ß‡™æ‡™∞‡™ø‡™§; ‡™∏‡™æ‡™Æ‡™æ‡™®‡´ç‡™Ø ‡™∞‡´Ä‡™§‡´á ‡™™‡´Å‡™∞‡´ç‡™£ ‡™µ‡´ã‡™∂ ‡™Æ‡™æ‡™ü‡´á ‡™Ü‡™∂‡™∞‡´á 1.2‚Äì1.5 kWh ‡™ä‡™∞‡´ç‡™ú‡™æ ‡™ñ‡™∞‡´ç‡™ö ‡™π‡´ã‡™Ø ‡™õ‡´á; ‡™è‡™Ü‡™à/‡™è‡™ï‡´ã ‡™Æ‡´ã‡™° ‡™ä‡™∞‡´ç‡™ú‡™æ ‡™¨‡™ö‡™æ‡™µ ‡™ï‡™∞‡´á ‡™õ‡´á.' },
  { q:/‡™°‡´ç‡™∞‡™æ‡™Ø‡™∞|‡™°‡´ç‡™∞‡™æ‡™Ø ‡™´‡™Ç‡™ï‡´ç‡™∂‡™®/i, a:'‡™ï‡´á‡™ü‡™≤‡™æ‡™Ç‡™ï ‡™Æ‡´ã‡™°‡´á‡™≤‡´ã‡™Æ‡™æ‡™Ç ‡™µ‡´â‡™∂‡™∞-‡™°‡´ç‡™∞‡™æ‡™Ø‡™∞ ‡™ì‡™≤-‡™á‡™®-‡™µ‡™® ‡™π‡´ã‡™Ø ‡™õ‡´á; ‡™¨‡™ß‡™æ‡™Æ‡™æ‡™Ç ‡™®‡™π‡´Ä‡™Ç ‚Äî ‡™ö‡´ã‡™ï‡´ç‡™ï‡™∏ ‡™Æ‡´ã‡™°‡´á‡™≤ ‡™§‡™™‡™æ‡™∏‡´ã.' },
  { q:/‡™á‡™®‡™µ‡™∞‡´ç‡™ü‡™∞|‡™Æ‡´ã‡™ü‡™∞/i, a:'‡™Ü‡™ß‡´Å‡™®‡™ø‡™ï Samsung ‡™´‡´ç‡™∞‡™®‡´ç‡™ü-‡™≤‡´ã‡™° ‡™Æ‡™∂‡´Ä‡™®‡´ã‡™Æ‡™æ‡™Ç ‡™°‡™ø‡™ú‡™ø‡™ü‡™≤ ‡™á‡™®‡™µ‡™∞‡´ç‡™ü‡™∞ ‡™Æ‡´ã‡™ü‡™∞‡™®‡´ã ‡™â‡™™‡™Ø‡´ã‡™ó ‡™•‡™æ‡™Ø ‡™õ‡´á ‡™ú‡´á ‡™µ‡™ß‡™æ‡™∞‡´á ‡™ï‡™æ‡™∞‡´ç‡™Ø‡™ï‡´ç‡™∑‡™Æ ‡™Ö‡™®‡´á ‡™ü‡™ï‡™æ‡™â ‡™π‡´ã‡™Ø ‡™õ‡´á.' },
  { q:/‡™™‡™∞‡™ø‡™µ‡™æ‡™∞|‡™∏‡´Å‡™ü‡´á‡™¨‡™≤|‡™ï‡´á‡™ü‡™≤‡™æ ‡™≤‡´ã‡™ï‡´ã ‡™Æ‡™æ‡™ü‡´á/i, a:'12 kg ‡™ï‡´ç‡™∑‡™Æ‡™§‡™æ ‡™Æ‡™ß‡´ç‡™Ø‡™Æ ‡™•‡´Ä ‡™Æ‡´ã‡™ü‡™æ ‡™™‡™∞‡™ø‡™µ‡™æ‡™∞ (4+ ‡™∏‡™≠‡´ç‡™Ø‡´ã) ‡™Æ‡™æ‡™ü‡´á ‡™Ø‡´ã‡™ó‡´ç‡™Ø ‡™õ‡´á ‡™Ö‡™®‡´á ‡™¨‡´á‡™°‡™ø‡™Ç‡™ó/‡™¨‡´ç‡™≤‡´á‡™®‡´ç‡™ï‡´á‡™ü ‡™∏‡™π‡´á‡™ú‡´á ‡™ß‡´ã‡™à ‡™∂‡™ï‡´á ‡™õ‡´á.' },
  { q:/‡™°‡™ø‡™∏‡´ç‡™™‡´ç‡™≤‡´á|‡™°‡´Ä‡™ú‡´Ä‡™ü‡™≤|‡™µ‡™æ‡™à‡™´‡™æ‡™à/i, a:'‡™ò‡™£‡™æ ‡™Æ‡´ã‡™°‡´á‡™≤‡™Æ‡™æ‡™Ç ‡™°‡™ø‡™ú‡™ø‡™ü‡™≤ ‡™°‡™ø‡™∏‡´ç‡™™‡´ç‡™≤‡´á ‡™Æ‡™≥‡´á ‡™õ‡´á ‡™Ö‡™®‡´á ‡™ï‡´á‡™ü‡™≤‡™æ‡™ï‡™Æ‡™æ‡™Ç Wi-Fi/SmartThings ‡™∏‡™™‡´ã‡™∞‡´ç‡™ü ‡™õ‡´á; ‡™§‡´á ‡™Æ‡´ã‡™°‡´á‡™≤ ‡™Ü‡™ß‡™æ‡™∞‡™ø‡™§ ‡™õ‡´á.' },
  { q:/‡™≤‡™æ‡™≠|‡™∂‡™æ ‡™Æ‡™æ‡™ü‡´á ‡™ñ‡™∞‡´Ä‡™¶‡™µ‡´Å‡™Ç|‡™´‡™æ‡™Ø‡™¶‡™æ/i, a:'‡™≤‡™æ‡™≠: ‡™Æ‡´ã‡™ü‡´Ä ‡™ï‡´ç‡™∑‡™Æ‡™§‡™æ, ‡™°‡™ø‡™ú‡™ø‡™ü‡™≤ ‡™á‡™®‡™µ‡™∞‡´ç‡™ü‡™∞, ‡™Ö‡™¶‡´ç‡™Ø‡™§‡™® ‡™ß‡´ã‡™µ‡™æ‡™®‡´Ä ‡™ü‡´á‡™ï‡™®‡´ã‡™≤‡´ã‡™ú‡´Ä (AI/EcoBubble), ‡™ä‡™∞‡´ç‡™ú‡™æ ‡™Ö‡™∏‡™∞‡™ï‡™æ‡™∞‡™ø‡™§ ‡™™‡´ç‡™∞‡´ã‡™ó‡´ç‡™∞‡™æ‡™Æ ‡™Ö‡™®‡´á ‡™∏‡´ç‡™Æ‡™æ‡™∞‡´ç‡™ü ‡™´‡´Ä‡™ö‡™∞‡´ç‡™∏ ‡™ï‡´á‡™ü‡™≤‡™æ‡™ï ‡™Æ‡´ã‡™°‡´á‡™≤‡™Æ‡™æ‡™Ç.' },
  { q:/‡™®‡™æ‡™®‡´Ä ‡™ï‡´ç‡™∑‡™Æ‡™§‡™æ|‡™∂‡™æ ‡™Æ‡™æ‡™ü‡´á ‡™®‡™æ‡™®‡´Ä ‡™®‡™π‡´Ä‡™Ç/i, a:'12 kg ‡™µ‡™ß‡´Å ‡™Æ‡´ã‡™ü‡™æ ‡™Ö‡™•‡™µ‡™æ ‡™¨‡™Ç‡™ß‡™æ‡™∞‡™£ ‡™µ‡™∏‡´ç‡™§‡´ç‡™∞‡´ã ‡™Æ‡™æ‡™ü‡´á ‡™è‡™ï ‡™ú ‡™∏‡™æ‡™à‡™ï‡™≤‡™Æ‡™æ‡™Ç ‡™ß‡´ã‡™µ‡™æ‡™®‡´Ä ‡™ï‡´ç‡™∑‡™Æ‡™§‡™æ ‡™Ü‡™™‡´á ‡™õ‡´á ‚Äî ‡™§‡´á‡™•‡´Ä ‡™∏‡™Æ‡™Ø ‡™Ö‡™®‡´á ‡™ä‡™∞‡´ç‡™ú‡™æ ‡™¨‡™ö‡´á ‡™õ‡´á.' },
  { q:/‡™¨‡´ç‡™∞‡™æ‡™®‡´ç‡™° ‡™ï‡™∞‡™§‡™æ ‡™∏‡™æ‡™∞‡´Å‡™Ç|‡™Ö‡™®‡´ç‡™Ø ‡™¨‡´ç‡™∞‡™æ‡™®‡´ç‡™° ‡™ï‡™∞‡™§‡™æ‡™Ç ‡™ï‡´á‡™Æ ‡™∏‡™æ‡™∞‡´Å‡™Ç/i, a:'Samsung ‡™è EcoBubble/AI Wash ‡™Ö‡™®‡´á SmartThings ‡™∏‡™Ç‡™ï‡™≤‡™® ‡™∏‡™æ‡™•‡´á ‡™∏‡™æ‡™∞‡´Ä ‡™™‡´ç‡™∞‡™ï‡´ç‡™∞‡™ø‡™Ø‡™æ ‡™Ü‡™™‡´á ‡™õ‡´á; ‡™™‡™∞‡™Ç‡™§‡´Å ‡™∏‡™ö‡´ã‡™ü ‡™§‡´Å‡™≤‡™®‡™æ ‡™Æ‡™æ‡™ü‡´á ‡™®‡™ø‡™∞‡´ç‡™¶‡™ø‡™∑‡´ç‡™ü ‡™Æ‡´ã‡™°‡´á‡™≤ ‡™®‡™ø‡™∞‡´ç‡™¶‡´á‡™∂‡™® ‡™ú‡™∞‡´Ç‡™∞‡´Ä ‡™õ‡´á.' },
  { q:/‡™™‡´ç‡™∞‡´ã‡™ó‡´ç‡™∞‡™æ‡™Æ|‡™ï‡´ç‡™µ‡™ø‡™ï ‡™µ‡´ã‡™∂|‡™è‡™ï‡´ã ‡™µ‡´ã‡™∂/i, a:'‡™¨‡™π‡´Å ‡™Æ‡´ã‡™°‡´á‡™≤‡´ã‡™Æ‡™æ‡™Ç Quick Wash, Eco mode, Steam/Hygiene ‡™Ö‡™®‡´á ‡™µ‡™ø‡™∂‡´á‡™∑ ‡™™‡´ç‡™∞‡´ã‡™ó‡´ç‡™∞‡™æ‡™Æ‡´ã ‡™â‡™™‡™≤‡™¨‡´ç‡™ß ‡™π‡´ã‡™Ø ‡™õ‡´á.' },
  { q:/‡™≠‡™æ‡™∞‡´á ‡™≤‡´ã‡™°|‡™ï‡™∞‡™ü‡™®|‡™¨‡´ç‡™≤‡´á‡™®‡´ç‡™ï‡´á‡™ü/i, a:'‡™π‡™æ‡™Ç ‚Äî 12 kg ‡™Æ‡´ã‡™ü‡™æ ‡™Ö‡™®‡´á ‡™≠‡™æ‡™∞‡´á ‡™≤‡´ã‡™° ‡™∏‡™∞‡™≥‡™§‡™æ ‡™•‡´Ä ‡™π‡´á‡™®‡´ç‡™°‡™≤ ‡™ï‡™∞‡´Ä ‡™∂‡™ï‡´á ‡™õ‡´á.' },
  { q:/‡™™‡´ç‡™∞‡™§‡™ø‡™≠‡™æ‡™µ|‡™∞‡´Ä‡™µ‡´ç‡™Ø‡´Å‡™ù/i, a:'‡™ó‡´ç‡™∞‡™æ‡™π‡™ï ‡™™‡´ç‡™∞‡™§‡™ø‡™∏‡™æ‡™¶ (‡™®‡™Æ‡´Ç‡™®‡™æ‡™ï‡™æ‡™∞):
      1) \"‡™∏‡™æ‡™∞‡´Ä ‡™ï‡´ç‡™≤‡´Ä‡™®‡™ø‡™Ç‡™ó, ‡™ï‡™™‡™°‡™æ‡™Ç ‡™™‡™∞ ‡™ï‡´á‡™Ø‡™∞.\" 
      2) \"‡™Æ‡´ã‡™ü‡´Ä ‡™°‡´ç‡™∞‡™Æ ‚Äî ‡™¨‡´á‡™°‡™ø‡™Ç‡™ó ‡™Æ‡™æ‡™ü‡´á ‡™â‡™§‡´ç‡™§‡™Æ.\" 
      3) \"‡™∏‡´ç‡™Æ‡™æ‡™∞‡´ç‡™ü ‡™´‡´Ä‡™ö‡™∞‡´ç‡™∏ ‡™â‡™™‡™Ø‡´ã‡™ó‡´Ä, Wi-Fi ‡™∏‡´á‡™ü‡™Ö‡™™ ‡™•‡´ã‡™°‡´Ä‡™µ‡™æ‡™∞ ‡™≤‡™à ‡™∂‡™ï‡´á ‡™õ‡´á.\" 
      4) \"‡™Ü‡™≤‡™æ‡™Ç ‡™Ö‡™®‡´á ‡™∂‡™æ‡™Ç‡™§ ‡™ì‡™™‡™∞‡´á‡™∂‡™®.\"' },
  { q:/.*/, a:'‡™Æ‡™æ‡™´ ‡™ï‡™∞‡™∂‡´ã, ‡™Æ‡™®‡´á ‡™§‡´á ‡™ö‡´ã‡™ï‡´ç‡™ï‡™∏ ‡™Æ‡™æ‡™π‡™ø‡™§‡´Ä ‡™â‡™™‡™≤‡™¨‡´ç‡™ß ‡™®‡™•‡´Ä. ‡™ï‡´É‡™™‡™æ ‡™ï‡™∞‡´Ä ‡™ï‡™ø‡™Ç‡™Æ‡™§, ‡™â‡™™‡™Ø‡´ã‡™ó, ‡™™‡™æ‡™£‡´Ä ‡™â‡™™‡™Ø‡´ã‡™ó ‡™Ö‡™•‡™µ‡™æ ‡™µ‡´ã‡™∞‡™Ç‡™ü‡´Ä ‡™µ‡™ø‡™∂‡´á ‡™™‡´Ç‡™õ‡´ã.' }
];

/* ===== speech synthesis + WebAudio tap ===== */
function speak(text, lang='en-IN'){ if(!('speechSynthesis' in window)){ document.getElementById('transcript').textContent = text; return; } const u = new SpeechSynthesisUtterance(text); u.lang = lang; u.rate = 1; window.speechSynthesis.cancel(); window.speechSynthesis.speak(u); }
let audioCtx=null;
function playTap(){ try{ if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)(); const now = audioCtx.currentTime; const o = audioCtx.createOscillator(); const g = audioCtx.createGain(); o.type='sine'; o.frequency.setValueAtTime(1000, now); g.gain.setValueAtTime(0, now); g.gain.linearRampToValueAtTime(0.12, now + 0.001); g.gain.exponentialRampToValueAtTime(0.001, now + 0.12); o.connect(g); g.connect(audioCtx.destination); o.start(now); o.stop(now + 0.14); }catch(e){ console.warn('tap sound', e && e.message); } }

/* ===== recognition with empty result handling ===== */
let recognition = null;
let lastHeard = false; // tracks if a candidate was heard in the session
if(window.SpeechRecognition || window.webkitSpeechRecognition){
  const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
  recognition = new SR();
  recognition.lang = 'en-IN';
  recognition.interimResults = false;
  recognition.maxAlternatives = 1;

  recognition.onresult = (e) => {
    lastHeard = true;
    const text = e.results[0][0].transcript;
    document.getElementById('transcript').textContent = (currentLang==='en' ? 'You: ' : '‡™§‡™Æ‡´á: ') + text;
    handleQuery(text);
  };

  recognition.onend = () => {
    // if onend and nothing heard in this started session -> show tap prompt
    document.getElementById('mic').classList.remove('listening');
    if(!lastHeard){
      // no result captured
      document.getElementById('transcript').textContent = (currentLang==='en' ? 'Tap mic to speak' : '‡™Æ‡™æ‡™á‡™ï ‡™¶‡™¨‡™æ‡™µ‡´ã ‡™Ö‡™®‡´á ‡™¨‡´ã‡™≤‡´ã');
    }
    lastHeard = false; // reset for next session
  };

  recognition.onerror = (ev) => {
    document.getElementById('transcript').textContent = 'Error: ' + (ev.error || ev.message);
    document.getElementById('mic').classList.remove('listening');
    lastHeard = false;
  };
}

/* ===== match query and reply ===== */
function handleQuery(text){
  const q = text.toLowerCase();
  if(currentLang === 'en'){
    const found = cannedEn.find(c => c.q.test(q)) || cannedEn[cannedEn.length-1];
    const ans = found.a;
    document.getElementById('transcript').textContent = 'Assistant: ' + ans;
    speak(ans, 'en-IN');
  } else {
    const found = cannedGu.find(c => c.q.test(q)) || cannedGu[cannedGu.length-1];
    const ans = found.a;
    document.getElementById('transcript').textContent = '‡™∏‡™π‡™æ‡™Ø‡™ï: ' + ans;
    speak(ans, 'gu-IN');
  }
}

/* ===== mic click behavior ===== */
const micBtn = document.getElementById('mic');
micBtn.addEventListener('click', ()=>{
  playTap();
  // start recognition or prompt fallback
  if(!recognition){
    const q = prompt(currentLang==='en' ? 'Type your question:' : '‡™§‡™Æ‡™æ‡™∞‡´ã ‡™™‡´ç‡™∞‡™∂‡´ç‡™® ‡™Ö‡™π‡´Ä‡™Ç ‡™ü‡™æ‡™à‡™™ ‡™ï‡™∞‡´ã:');
    if(q) handleQuery(q);
    return;
  }
  recognition.lang = (currentLang === 'en') ? 'en-IN' : 'gu-IN';
  try{
    lastHeard = false;
    micBtn.classList.add('listening');
    document.getElementById('transcript').textContent = (currentLang==='en' ? 'Listening...' : '‡™∂‡´Å‡™£‡™µ‡™æ‡™Æ‡™æ‡™Ç ‡™Ü‡™µ‡´Ä ‡™∞‡™π‡´ç‡™Ø‡´Å‡™Ç ‡™õ‡´á...');
    recognition.start();
  }catch(e){
    micBtn.classList.remove('listening');
    document.getElementById('transcript').textContent = (currentLang==='en' ? 'Tap mic to speak' : '‡™Æ‡™æ‡™á‡™ï ‡™¶‡™¨‡™æ‡™µ‡´ã ‡™Ö‡™®‡´á ‡™¨‡´ã‡™≤‡´ã');
  }
});
micBtn.tabIndex = 0;
micBtn.addEventListener('keydown', e => { if(e.key === 'Enter' || e.key === ' ') e.target.click(); });

/* ===== initial state ===== */
setLang('en'); // ensure languages initialized

</script>
</body>
</html>
