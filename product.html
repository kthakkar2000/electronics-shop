<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Product тАФ Kalindi Tradelinks Pvt Ltd</title>
  <style>
    :root{
      --bg:#0f1723;
      --card:#0b1220;
      --muted:#9aa4b2;
      --accent1:#7c3aed; /* violet */
      --accent2:#06b6d4; /* teal */
      --glass: rgba(255,255,255,0.03);
      font-family: Inter, system-ui, -apple-system, Roboto, 'Segoe UI', Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg) 0%, #081018 100%);color:#e6eef6}
    .container{max-width:460px;margin:18px auto;padding:16px}

    /* Header */
    header{display:flex;align-items:center;gap:12px;margin-bottom:12px}
    .logo-img{width:56px;height:56px;border-radius:10px;overflow:hidden;flex-shrink:0;box-shadow:0 4px 14px rgba(2,6,23,0.6)}
    .logo-img img{width:100%;height:100%;object-fit:contain;background:white}
    .shop{font-size:16px;font-weight:700}
    .sub{font-size:12px;color:var(--muted)}

    /* Card */
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:18px;padding:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6)}

    /* Image area */
    .gallery{position:relative;overflow:hidden;border-radius:14px}
    .slides{display:flex;transition:transform .36s cubic-bezier(.2,.9,.2,1)}
    .slides img{width:100%;height:320px;object-fit:cover;flex-shrink:0}
    .dots{display:flex;gap:6px;position:absolute;left:12px;bottom:10px}
    .dot{width:9px;height:9px;border-radius:6px;background:rgba(0,0,0,0.35);backdrop-filter:blur(6px)}
    .dot.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));box-shadow:0 4px 12px rgba(92,52,204,0.24)}

    /* Details */
    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
    .title{font-size:18px;font-weight:700}
    .price{font-size:18px;font-weight:700;color:var(--accent2)}
    .rating{font-size:13px;color:var(--muted)}

    .desc{color:var(--muted);font-size:14px;margin-top:8px;line-height:1.45}

    .specs{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:12px}
    .spec{background:var(--glass);padding:10px;border-radius:10px;font-size:13px}

    /* Actions */
    .actions{display:flex;gap:8px;margin-top:14px}
    .btn{flex:1;padding:12px;border-radius:12px;border:0;font-weight:700;font-size:15px}
    .btn.buy{background:linear-gradient(90deg,var(--accent2),#10b981);color:#042022}
    .btn.cart{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    /* Voice Bot */
    .bot{display:flex;gap:10px;align-items:center;margin-top:14px;padding:10px;border-radius:12px;background:linear-gradient(90deg, rgba(124,58,237,0.08), rgba(6,182,212,0.05));}
    .mic{width:56px;height:56px;border-radius:12px;background:linear-gradient(180deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;font-size:18px;cursor:pointer}
    .mic.listening{box-shadow:0 8px 30px rgba(124,58,237,0.28);transform:scale(1.03)}
    .bot-info{flex:1}
    .bot-title{font-weight:700}
    .bot-sub{font-size:13px;color:var(--muted);margin-top:4px}
    .transcript{margin-top:8px;font-size:13px;color:var(--muted);min-height:20px}

    footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}

    /* Responsive tweaks */
    @media (max-width:420px){
      .slides img{height:260px}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo-img"><img src="assets/ktpl new logo.png" alt="Kalindi logo" /></div>
      <div>
        <div class="shop">Kalindi Tradelinks Pvt Ltd</div>
        <div class="sub">Mobile / Home Appliances</div>
      </div>
    </header>

    <main class="card">
      <div class="gallery" id="gallery">
        <div class="slides" id="slides">
          <img src="assets/wm1.avif" alt="product image 1" />
          <img src="assets/wm2.avif" alt="product image 2" />
          <img src="assets/wm3.avif" alt="product image 3" />
          <img src="assets/wm4.avif" alt="product image 4" />
          <img src="assets/wm5.avif" alt="product image 5" />
        </div>
        <div class="dots" id="dots"></div>
      </div>

      <div class="meta">
        <div>
          <div class="title">Samsung 12kg Front Load Washing Machine</div>
          <div class="rating">4.6 тШЕ  тАв  1 year warranty</div>
        </div>
        <div class="price">тВ╣65,000</div>
      </div>

      <p class="desc">Efficient front-load washing machine with multiple wash modes, low-noise motor and smart water saving technology. Perfect for small families and daily use.</p>

      <div class="specs">
        <div class="spec"><strong>Capacity</strong><div class="muted">7 kg</div></div>
        <div class="spec"><strong>Energy</strong><div class="muted">5 Star</div></div>
        <div class="spec"><strong>RPM</strong><div class="muted">1200</div></div>
        <div class="spec"><strong>Warranty</strong><div class="muted">1 year</div></div>
      </div>

      <div class="actions">
        <button class="btn buy">Buy Now</button>
        <button class="btn cart">Add to Cart</button>
      </div>

      <div class="bot" role="region" aria-label="Voice assistant">
        <div class="mic" id="mic">ЁЯОЩя╕П</div>
        <div class="bot-info">
          <div class="bot-title">Product Voice Assistant</div>
          <div class="bot-sub">Tap mic and ask about product specs, usage or warranty. Supports Gujarati & English.</div>
          <div class="transcript" id="transcript"></div>
        </div>
      </div>

      <div style="margin-top:10px;font-size:13px;color:var(--muted)">Tip: For best results use Chrome on Android or desktop. iOS Safari has limited SpeechRecognition support.</div>
    </main>

    <footer>┬й Kalindi Tradelinks Pvt Ltd тАФ Scan QR on the product to open this page.</footer>
  </div>

  <script>
    // Simple slider
    const slides = document.getElementById('slides')
    const images = slides.querySelectorAll('img')
    const dots = document.getElementById('dots')
    let idx = 0
    function buildDots(){
      images.forEach((_,i)=>{
        const d = document.createElement('div')
        d.className='dot' + (i===0? ' active':'')
        d.addEventListener('click', ()=>{ goTo(i) })
        dots.appendChild(d)
      })
    }
    function update(){
      slides.style.transform = `translateX(${-idx * 100}%)`
      Array.from(dots.children).forEach((d,i)=> d.classList.toggle('active', i===idx))
    }
    function goTo(i){ idx = (i+images.length)%images.length; update() }
    buildDots()

    // Swipe support
    let startX = null
    const gallery = document.getElementById('gallery')
    gallery.addEventListener('touchstart', e=> startX = e.changedTouches[0].clientX)
    gallery.addEventListener('touchend', e=>{
      if(startX===null) return
      const endX = e.changedTouches[0].clientX
      const dx = endX - startX
      if(Math.abs(dx) > 40){ if(dx<0) idx = Math.min(idx+1, images.length-1); else idx = Math.max(idx-1,0); update() }
      startX = null
    })

    // Auto-advance
    setInterval(()=>{ idx = (idx+1) % images.length; update() }, 4500)

    // Voice bot using Web Speech API
    const micBtn = document.getElementById('mic')
    const transcriptEl = document.getElementById('transcript')

    const canned = [
      {q: /price|cost|тВ╣|rupee/i, a: 'The price of this model is Sixty five thousand rupees only.', gu: 'ркЖ ркорлЛркбрлЗрк▓ркирлА ркХрк┐ркВркоркд рк░рлВ .65,000 ркЫрлЗ. рк╕рлНркЯрлЛрк░ркорк╛ркВ EMI ркЕркирлЗ exchange ркЙрккрк▓ркмрлНркз ркЫрлЗ.'},
      {q: /stock|available|i, a: 'This model has only 4 pieces left in stock. We also offer EMI and exchange options in-store.', gu: 'ркЖ ркорлЛркбрлЗрк▓ркирк╛ рк╕рлНркЯрлЛркХркорк╛ркВ рклркХрлНркд 4 рккрлАрк╕ ркмрк╛ркХрлА ркЫрлЗ. ркЕркорлЗ рк╕рлНркЯрлЛрк░ркорк╛ркВ EMI ркЕркирлЗ ркПркХрлНрк╕ркЪрлЗркирлНркЬ рк╡рк┐ркХрк▓рлНрккрлЛ рккркг рккрлНрк░ркжрк╛рки ркХрк░рлАркП ркЫрлАркП.'},
      {q: /warrant(y|ies)|guarantee/i, a: 'This product comes with a two year manufacturer warranty covering defects and parts.', gu: 'ркЖ ркЙркдрлНрккрк╛ркжрки рк╕рк╛ркерлЗ 2 рк╡рк░рлНрк╖ркирлАрк╡рк╛рк░ркВркЯрлА ркорк│рлЗ ркЫрлЗ ркЬрлЗ ркЦрк╛ркорлА ркЕркирлЗ ркнрк╛ркЧрлЛркирлЗ рквркХрлЗ ркЫрлЗ.'},
      {q: /capacity|kg|weight/i, a: 'The machine has a 12 kilogram capacity тАФ suitable for small families.', gu: 'ркЖ ркорк╢рлАркиркирлА ркХрлНрк╖ркоркдрк╛ 12 ркХрк┐ркЧрлНрк░рк╛ ркЫрлЗ тАФ ркирк╛ркирк╛ркВ рккрк░рк┐рк╡рк╛рк░рлЛ ркорк╛ркЯрлЗ рккрлВрк░ркдрлА.'},
      {q: /rpm|spin|speed/i, a: 'Maximum spin speed is 1200 RPM which helps remove more water and reduce drying time.', gu: 'ркорк╣ркдрлНркдрко рк╕рлНрккрк┐рки рк╕рлНрккрлАркб 1200 RPM ркЫрлЗ ркЬрлЗ рк╡ркзрлБ рккрк╛ркгрлА ркжрлВрк░ ркХрк░рк╡рк╛ркорк╛ркВ ркЕркирлЗ рк╕рлВркХрк╡рк╛ркирлЗ ркЯрлВркВркХрк╛рк╡ркорк╛ркВ ркоркжркж ркХрк░рлЗ ркЫрлЗ.'},
      {q: /energy|star/i, a: 'This is a 5-star energy rated appliance тАФ very efficient on power consumption.', gu: 'ркЖ ркПркХ 5-рк╕рлНркЯрк╛рк░ ркПркирк░рлНркЬрлА рк░рлЗркЯрлЗркб ркЙрккркХрк░ркг ркЫрлЗ тАФ рккрк╛рк╡рк░ ркЦрк░рлНркЪркорк╛ркВ ркЦрлВркм ркЕрк╕рк░ркХрк╛рк░ркХ.'},
      {q: /how to clean|clean|care/i, a: 'Use a mild detergent, run monthly drum clean cycle and wipe the door seal to avoid residue.', gu: 'рк╣рк│рк╡рлЛ ркбрк┐ркЯрк░рлНркЬрлЗркирлНркЯ рк╡рк╛рккрк░рлЛ, ркорк╛рк╕рк┐ркХ ркбрлНрк░рко ркХрлНрк▓рлАрки рк╕рк╛ркИркХрк▓ ркЪрк▓рк╛рк╡рлЛ ркЕркирлЗ ркбрлЛрк░ рк╕рлАрк▓ рк╕рк╛ркл ркХрк░рлЛ.'},
      {q: /default/i, a: 'Sorry, I do not have that exact information. You can ask about price, capacity, warranty or cleaning and I will answer.', gu: 'ркорк╛ркл ркХрк░рк╢рлЛ, ркорк╛рк░рк╛ рккрк╛рк╕рлЗ ркдрлЗ ркЪрлЛркХрлНркХрк╕ ркорк╛рк╣рк┐ркдрлА ркиркерлА. ркдркорлЗ ркХрк┐ркВркоркд, ркХрлНрк╖ркоркдрк╛, рк╡рлЛрк░ркВркЯрлА ркЕркерк╡рк╛ рк╕рклрк╛ркИ рк╡рк┐рк╢рлЗ рккрлВркЫрлЛ.'}
      {q: /brand|company|model/i, a: 'This model is from ABC Electronics, known for durability and advanced features.', gu: 'ркЖ ркорлЛркбрлЗрк▓ ABC ркЗрк▓рлЗркХрлНркЯрлНрк░рлЛркирк┐ркХрлНрк╕ркирлБркВ ркЫрлЗ, ркЬрлЗ ркЯркХрк╛ркЙрккркгрлБркВ ркЕркирлЗ ркЕркжрлНркпркдрки рк╕рлБрк╡рк┐ркзрк╛ркУ ркорк╛ркЯрлЗ ркЬрк╛ркгрлАркдрлБркВ ркЫрлЗ.'},
      {q: /size|dimension|height|width|depth/i, a: 'The machine measures 85 cm in height, 60 cm in width and 55 cm in depth.', gu: 'ркЖ ркорк╢рлАркиркирлА ркКркВркЪрк╛ркИ 85 рк╕рлЗркорлА, рккрк╣рлЛрк│рк╛ркИ 60 рк╕рлЗркорлА ркЕркирлЗ ркКркВркбрк╛ркИ 55 рк╕рлЗркорлА ркЫрлЗ.'},
      {q: /water|litre|consumption/i, a: 'This model consumes approximately 60 liters of water per full wash cycle.', gu: 'ркЖ ркорлЛркбрлЗрк▓ ркжрк░рлЗркХ рккрлВрк░рлНркг рк╡рлЛрк╢ рк╕рк╛ркпркХрк▓ркорк╛ркВ ркЕркВркжрк╛ркЬрлЗ 60 рк▓рк┐ркЯрк░ рккрк╛ркгрлА рк╡рк╛рккрк░рлЗ ркЫрлЗ.'},
      {q: /water|litre|consumption/i, a: 'This model consumes approximately 60 liters of water per full wash cycle.', gu: 'ркЖ ркорлЛркбрлЗрк▓ ркжрк░рлЗркХ рккрлВрк░рлНркг рк╡рлЛрк╢ рк╕рк╛ркпркХрк▓ркорк╛ркВ ркЕркВркжрк╛ркЬрлЗ 60 рк▓рк┐ркЯрк░ рккрк╛ркгрлА рк╡рк╛рккрк░рлЗ ркЫрлЗ.'},
      {q: /noise|sound|db|decibel/i, a: 'The machine operates at 52 dB during wash and 72 dB during spin тАФ relatively quiet.', gu: 'ркЖ ркорк╢рлАрки ркзрлЛрк╡рк╛ркирлА рккрлНрк░ркХрлНрк░рк┐ркпрк╛ркорк╛ркВ 52 dB ркЕркирлЗ рк╕рлНрккрк┐рки ркжрк░ркорк┐ркпрк╛рки 72 dB рккрк░ ркХрк╛рк░рлНркп ркХрк░рлЗ ркЫрлЗ тАФ ркдрлБрк▓ркирк╛ркдрлНркоркХ рк░рлАркдрлЗ рк╢рк╛ркВркд ркЫрлЗ.'},
      {q: /delivery|install|setup/i, a: 'Free delivery and installation are provided within city limits.', gu: 'рк╢рк╣рлЗрк░ркирлА ркЕркВркжрк░ ркорклркд ркбрк┐рк▓рк┐рк╡рк░рлА ркЕркирлЗ ркЗркирлНрк╕рлНркЯрлЛрк▓рлЗрк╢рки ркЖрккрк╡рк╛ркорк╛ркВ ркЖрк╡рлЗ ркЫрлЗ.'},
      {q: /offer|discount|deal|sale/i, a: 'We currently have a festive discount available. Please check in-store for final price.', gu: 'рк╣рк╛рк▓ркорк╛ркВ ркдрк╣рлЗрк╡рк╛рк░рлЛркорк╛ркВ ркбрк┐рк╕рлНркХрк╛ркЙркирлНркЯ ркЙрккрк▓ркмрлНркз ркЫрлЗ. ркЕркВркдрк┐рко ркХрк┐ркВркоркд ркорк╛ркЯрлЗ рк╕рлНркЯрлЛрк░ркорк╛ркВ ркдрккрк╛рк╕рлЛ.'},
      {q: /service|repair|support|help/i, a: 'We provide doorstep service and free checkups during warranty period.', gu: 'ркЕркорлЗ рк╡рлЛрк░ркВркЯрлА рк╕ркоркпркЧрк╛рк│рк╛ ркжрк░ркорк┐ркпрк╛рки ркбрлЛрк░рк╕рлНркЯрлЗркк рк╕рк░рлНрк╡рк┐рк╕ ркЕркирлЗ ркорклркд ркЪрлЗркХркЕрккрлНрк╕ рккрлНрк░ркжрк╛рки ркХрк░рлАркП ркЫрлАркП.'},
      {q: /exchange|old machine|return/i, a: 'You can exchange your old appliance and get up to тВ╣5,000 off.', gu: 'ркдркорлЗ ркдркорк╛рк░рлБркВ ркЬрлВркирлБркВ ркЙрккркХрк░ркг ркПркХрлНрк╕ркЪрлЗркирлНркЬ ркХрк░рлА рк╢ркХрлЛ ркЫрлЛ ркЕркирлЗ тВ╣5,000 рк╕рлБркзрлАркирлА ркЫрлВркЯ ркорлЗрк│рк╡рлА рк╢ркХрлЛ ркЫрлЛ.'},
    ]

    function speak(text, lang='gu-IN'){
      if(!('speechSynthesis' in window)) return alert('Your browser does not support speech synthesis')
      const ut = new SpeechSynthesisUtterance(text)
      ut.lang = lang
      ut.rate = 1
      window.speechSynthesis.cancel()
      window.speechSynthesis.speak(ut)
    }

    // Recognition
    let recognition = null
    if(window.SpeechRecognition || window.webkitSpeechRecognition){
      const SR = window.SpeechRecognition || window.webkitSpeechRecognition
      recognition = new SR()
      recognition.lang = 'gu-IN' // prefer English but will capture many inputs; Gujarati capture works better on Chrome with 'gu-IN'
      recognition.interimResults = false
      recognition.maxAlternatives = 1
      recognition.onresult = (e)=>{
        const text = e.results[0][0].transcript
        transcriptEl.textContent = 'You: ' + text
        handleQuery(text)
      }
      recognition.onend = ()=> micBtn.classList.remove('listening')
      recognition.onerror = (ev)=>{
        transcriptEl.textContent = 'Error: ' + ev.error
        micBtn.classList.remove('listening')
      }
    }

    micBtn.addEventListener('click', ()=>{
      if(!recognition){
        // Fallback: ask user to type
        const q = prompt('Speech recognition not supported. Type your question:')
        if(q) { transcriptEl.textContent = 'You: ' + q; handleQuery(q) }
        return
      }
      try{
        micBtn.classList.add('listening')
        transcriptEl.textContent = 'Listening...'
        recognition.start()
      }catch(err){ micBtn.classList.remove('listening') }
    })

    function isGujarati(text){ return /[ркА-рл┐]/.test(text) }

    function handleQuery(text){
      const t = text.toLowerCase()
      let found = canned.find(c=> c.q.test(t))
      if(!found) found = canned.find(c=> /default/i.test(c.q))

      const useGu = isGujarati(text)
      const answer = useGu ? (found.gu || found.a) : found.a
      transcriptEl.textContent = (useGu? 'рк╕рк╣рк╛ркпркХ: ' : 'Assistant: ') + answer
      speak(answer, useGu? 'gu-IN' : 'en-IN')

      // Optional: call backend for dynamic reply (recommended for production)
      // fetch('/api/openai-reply', {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({question: text, productId: 'superwash-7kg'})})
      //  .then(r=>r.json()).then(data=>{ transcriptEl.textContent = 'Assistant: ' + data.reply; speak(data.reply) })
    }

    // Accessibility: keyboard trigger
    micBtn.tabIndex = 0
    micBtn.addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') micBtn.click() })

    // Replace AVIF fallback (optional): if browser doesn't support avif, swap to jpg
    (function(){
      const testImg = new Image()
      testImg.onload = ()=>{
        // supported
      }
      testImg.onerror = ()=>{
        document.querySelectorAll('img').forEach(img=>{
          img.src = img.src.replace('.avif', '.jpg')
        })
      }
      testImg.src = 'data:image/avif;base64,AAAA' // small broken avif to test
    })()
  </script>
</body>
</html>



